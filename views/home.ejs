<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/line.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/navbar.css">
    <link rel="stylesheet" href="css/footer.css">
</head>
<body>
    <%- include("../views/partials/flash.ejs")  %> 

    <header>
        <img class="cover" src="images/cover.jpg" alt="">
    </header>

    

    <%- include('../views/partials/navbar.ejs') %>

    <main>
        <div class="starter">
            <div class="guidlines">
                <h2>BlogPost</h2>
                <p>Create Your Account</p>
                <p>Share your thoughts</p>
                <p>Get it Published!</p>
                <button> <a href="/home/new">Create a Blog</a></button>
            </div>
        <div class="intro">
            <div class="icons">
                <img src="images/quil.png" alt="">                
                <img src="images/pen.png" alt="">                
            </div>
            <h2>
                Unveiling Perspectives: A Journey into Insightful Stories and Ideas.
            </h2>
            <h3>
                Discover a World of Captivating Narratives, Thought-Provoking Discussions, and Inspiring Moments.
            </h3>

            <p>
                Welcome to BlogPost by Asfi
            </p>
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" data-interval="3000">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                    <!-- Add more carousel indicators as needed -->
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="images/2.jpg" class="d-block w-100" alt="">
                        <div class="carousel-caption">
                            <h4>Unleash Your Creativity</h4>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="images/3.jpg" class="d-block w-100" alt="">
                        <div class="carousel-caption">
                            <h4>Exploring the Depths of the Unknown</h4>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="images/4.jpg" class="d-block w-100" alt="">
                        <div class="carousel-caption">
                            <h4>Doubt, reflect, glow</h4>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="images/1.jpg" class="d-block w-100" alt="">
                        <div class="carousel-caption">
                            <h4>Question everything, seek truth</h4>
                        </div>
                    </div>
                    <!-- Add more carousel items as needed -->
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </div>

        <div class="blogs">
            <h2>
                Posted Blogs


            </h2> 
            <div class="cards">

                <% for (let blog of blogs){ %>
                    <div class="borderr">

                <div class="card" style="width: 18rem;">
                    <% for(let img of blog.image){ %>
                        <img src="<%= img.path %>" class="card-img-top imig" alt="...">
                        <% } %>
                    <div class="card-body">
                        <div class="adj">
                            <h5 class="card-title" ><%= blog.title %></h5>
                            <span class="time"> <i class="uil uil-clock-eight"></i><%= blog.time %></span>
                        </div>
                        <p class="card-text">
                            <% 
                              var words = blog.description.split(' ');
                              var truncated = words.slice(0, 15).join(' ');
                              if (words.length > 15) {
                                truncated += '...';
                              }
                              %> <%= truncated %>
                          </p>
                                               
                      <p class="author" style="text-transform: capitalize;"> 
                        <% if(blog.author.username === 'asfar' || blog.author.username ==='Asfar' ) { %>

                            <b>Author:</b> <%= blog.author.username %>
                            <span class="admin">Admin</span>

                        <% } else { %>

                            <b>Author:</b> <%= blog.author.username %>

                            <% } %>
                         
                     </p>
                       <a href="/home/<%=blog._id%>" class="btn btn-primary">Visit</a>
                      <div class="social">
                        <i class="uil uil-facebook-f"></i>
                        <i class="uil uil-linkedin"></i>
                        <i class="uil uil-github"></i>
                        <i class="uil uil-twitter"></i>
                        
                      </div>
                    </div>
                  </div>
                </div>

                  <% } %>
            </div>
        </div>
    </main>


    <%- include('../views/partials/footer.ejs') %>


    <script src="js/navbar.js"></script>
    <script>
        // Initialize the carousel
        $(document).ready(function(){
            $('.carousel').carousel({
            interval: 3000  // Set the interval to 3 seconds
        });
        });
    </script>
</body>
</html>